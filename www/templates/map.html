
<!--
    This page shows a map and does things on that.
-->


<ion-view view-title="Map">
  <script id="my-modal.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar class="bar-light">
        <button class="button button-icon ion-checkmark" ng-click="saveIssue()"></button>
        <h1 class="title">Create issue</h1>
        <button class="button button-icon ion-close" ng-click="cancelIssue()"></button>
      </ion-header-bar>
      <ion-content>
        <form class="list">
          <label class="item item-input">
            <input type="text" placeholder="Title" ng-model="newIssue.title">
          </label>
          <label class="item item-input">
            <textarea placeholder="Comments" rows="10" ng-model="newIssue.description"></textarea>
          </label>
        </form>
      </ion-content>
    </ion-modal-view>
  </script>
  <ion-content class="fill-height has-footer" data-tap-disabled="true">
    <div id="main-map"></div>
  </ion-content>
  <ion-footer-bar align-title="center" class="bar-dark" ng-if="!addingIssue">
      <button class="button button-icon ion-chevron-down" ng-if="!firstFloor()" ng-click="showPrevFloor()"></button>
      <button class="button button-icon ion-chevron-up" ng-if="!lastFloor()" ng-click="showNextFloor()"></button>
      <div class="title">{{ floorName }}</div>
      <button class="button button-icon ion-alert-circled pull-right" ng-click="enableAddingIssueMode()"></button>
  </ion-footer-bar>
  <ion-footer-bar class="bar-assertive" ng-if="addingIssue">
      <div class="title">Create issue</div>
      <button class="button button-icon ion-close pull-right" ng-if="addingIssue" ng-click="disableAddingIssueMode()"></button>
  </ion-footer-bar>
</ion-view>
